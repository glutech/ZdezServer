package cn.com.zdez.service;

import com.notnoop.mpns.sendnoti.SendToastNotification;

import cn.com.zdez.vo.SchoolMsgVo;

public class SendWPNotificationService {

	SendToastNotification sendToastNotification = new SendToastNotification();
	
	
	/**
	 * @param username as user's name
	 * @param schoolMsgVo as the message that need to send
	 * @param status as the WP user's URI channel
	 * @function sending message to the WP user
	 * */
	public void sendWPSchoolMsg(String username,SchoolMsgVo schoolMsgVo,String status)
	{
		if(schoolMsgVo.getContent().length()>34)
			sendToastNotification.pushShortNotification(status, username ,String.valueOf(schoolMsgVo.getSchoolMsgId()),
					schoolMsgVo.getSenderName(), schoolMsgVo.getDate(), schoolMsgVo.getContent().substring(0,34), 
					"free", schoolMsgVo.getTitle());
		else
			sendToastNotification.pushShortNotification(status, username ,String.valueOf(schoolMsgVo.getSchoolMsgId()),
					schoolMsgVo.getSenderName(), schoolMsgVo.getDate(), schoolMsgVo.getContent(), 
					"free", schoolMsgVo.getTitle());
	}
}
