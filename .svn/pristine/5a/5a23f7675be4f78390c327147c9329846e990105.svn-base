package cn.com.zdez.service;

import java.util.List;

import cn.com.zdez.dao.SchoolMsgDao;
import cn.com.zdez.dao.StudentDao;
import cn.com.zdez.vo.SchoolMsgVo;

public class TestHighConcurrencyService implements Runnable{
	
//	private SchoolMsgDao smd;
//	
//	public TestHighConcurrencyService(SchoolMsgDao s) {
//		this.smd = s;
//	}
	
	public TestHighConcurrencyService() {
		super();
	}
	
	private void startRequest() {
		List<Integer> stuIdList = new StudentDao().getTopStudentIds(50);
		SchoolMsgDao smd = new SchoolMsgDao();
		for (int i=0; i<stuIdList.size(); i++) {
			int stuId = stuIdList.get(i);
			System.out.println("get schoolmsg~~~~~~"+stuId);
			List<SchoolMsgVo> smv = smd.getMsgToUpdate(stuId);
			for (int j=0; j<smv.size(); j++) {
				System.out.println("getted msgId:" + smv.get(j));
			}
		}
	}
	
	public void run() {
		System.out.println("starting~~~~");
		startRequest();
	}

}
